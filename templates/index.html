{% extends "layout.html" %}

{% block title %}
    Clients
{% endblock %}

{% block main %}
	<div class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
		{% if get_flashed_messages() %}
			<div id="AlertParent">
				<div class="alert alert-success d-flex align-items-center justify-content-between my-4" role="alert">
			<div> 
				<span data-feather="check-circle"></span> {{ get_flashed_messages() | join(" ") }} 
			</div>
			<button type="button" id="closeAlert" class="close" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			</div>
		</div>
    {% endif %}
		<h2 class="head-sub ">Clients</h2>
		{% if clients %}
		<div class="table-responsive">
			<table class="table table-striped table-sm">
				<thead>
					<tr>
						<th>Name</th>
						<th>Email</th>
						<th>Mobile</th>
						<th>Bedrooms</th>
						<th>Budget</th>
						<th>Move Date</th>
						<th>WEST/EAST</th>
						<th>UP/DOWN</th>
						<th>Pets</th>
						<th>Guarantors</th>
						<th>Occupation</th>
						<th>Date Added</th>
					</tr>
				</thead>
				<tbody>
				{% for client in clients %}
					<tr>
						<td>{{client["clientname"]}}</td>
						<td>{{client["email"]}}</td>
						<td>{{client["mobile"]}}</td>
						<td>{{client["aptsize"]}}</td>
						<td>{{client["budget"]}}</td>
						<td>{{client["move_date"]}}</td>
						<td>{{client["w_or_e"]}}</td>
						<td>{{client["up_down_town"]}}</td>
						<td>{{client["pets"]}}</td>
						<td>{{client["grantor"]}}</td>
						<td>{{client["note"]}}</td>
						<td>{{client["modified"]}}</td>
					</tr>
				{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<!-- if no client -->
		<div class="nodata mt-5">
		  <p class="mb-5"> You currently have no Client...</p>
		  <a href="/appointment"><button class="btn btn-dark px-5" type="submit">Add New Client</button></a>
		</div>
		{% endif %}
	</div>		
{% endblock %}